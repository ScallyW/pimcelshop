<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Premium Clothing Store</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="bg-grid"></div>
  <!-- –®–∞–ø–∫–∞ -->
  <header class="header">
    <div class="logo"><span class="mark">P</span> Pimcel Shop</div>
    <div class="search">
      <input type="text" placeholder="–ù–∞–π—Ç–∏ –æ–¥–µ–∂–¥—É –∏–ª–∏ –±—Ä–µ–Ω–¥...">
    </div>
    <div class="header-right">
      <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
      <button class="cart-button" id="cartButton" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
        <span class="cart-icon">üõí</span>
        <span class="cart-badge" id="cartCount">0</span>
      </button>
      <a href="#">–ü—Ä–æ—Ñ–∏–ª—å</a>
  </div>
  </header>
  <!-- –ú–∏–Ω–∏-–∫–æ—Ä–∑–∏–Ω–∞ -->
  <div class="mini-cart" id="miniCart" hidden>
    <div class="mini-cart-head">
      <div class="mini-title">–ö–æ—Ä–∑–∏–Ω–∞</div>
      <button class="mini-close" id="miniCartClose">√ó</button>
    </div>
    <div class="mini-cart-list" id="miniCartList"></div>
    <div class="mini-cart-footer">
      <div class="mini-total"><span>–ò—Ç–æ–≥–æ:</span><strong id="miniCartTotal">0 ‚ÇΩ</strong></div>
      <a href="#" class="btn btn-peach" id="miniCheckout">–û—Ñ–æ—Ä–º–∏—Ç—å</a>
    </div>
  </div>

  <!-- Hero –±–ª–æ–∫ -->
  <section class="hero">
    <div class="hero-card">
      <div class="hero-left">
        <div class="hero-badge">
          <span class="badge-text">–ù–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</span>
          <div class="badge-glow"></div>
        </div>
        <h1 class="hero-title">
          <span class="title-line">–í–µ—Å–Ω–∞‚Äì–õ–µ—Ç–æ</span>
          <span class="title-line title-accent">2025</span>
        </h1>
        <p class="hero-sub">–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å –ø—Ä–µ–º–∏—É–º-–∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç –º–∏—Ä–æ–≤—ã—Ö –±—Ä–µ–Ω–¥–æ–≤. –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Å–µ—Ä–∏–∏.</p>
        <div class="hero-stats">
          <div class="stat">
            <span class="stat-number">500+</span>
            <span class="stat-label">–ú–æ–¥–µ–ª–µ–π</span>
          </div>
          <div class="stat">
            <span class="stat-number">50+</span>
            <span class="stat-label">–ë—Ä–µ–Ω–¥–æ–≤</span>
          </div>
          <div class="stat">
            <span class="stat-number">24/7</span>
            <span class="stat-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
          </div>
        </div>
        <div class="hero-cta reveal">
          <a href="catalog.html" class="btn btn-peach btn-glow">
            <span class="btn-text">–°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</span>
            <div class="btn-shine"></div>
          </a>
          <a href="#" class="btn btn-glass btn-glass-enhanced">
            <span class="btn-text">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</span>
          </a>
        </div>
      </div>
      <div class="hero-art">
        <div class="hero-image-container">
          <img src="image/banner.jpg" src="https://t.me/vozbuzden1e" class="hero-image">
          <div class="image-glow"></div>
        </div>
        <div class="floating-elements">
          <div class="float-item float-1"></div>
          <div class="float-item float-2"></div>
          <div class="float-item float-3"></div>
        </div>
    </div>
    </div>
  </section>

  <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
  <section class="categories">
    <div class="cat cat--sneakers" data-filter="sneakers">
      <div class="cat-dot"></div>
      <span class="label">–ö—Ä–æ—Å—Å–æ–≤–∫–∏</span>
    </div>
    <div class="cat cat--tshirts" data-filter="tshirts">
      <div class="cat-dot"></div>
      <span class="label">–§—É—Ç–±–æ–ª–∫–∏</span>
    </div>
    <div class="cat cat--jackets" data-filter="jackets">
      <div class="cat-dot"></div>
      <span class="label">–ö—É—Ä—Ç–∫–∏</span>
    </div>
    <div class="cat cat--accessories" data-filter="accessories">
      <div class="cat-dot"></div>
      <span class="label">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</span>
    </div>
  </section>

  <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã -->
  <main class="container reveal">
    <h2>–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ —Å–µ–π—á–∞—Å</h2>
    <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞ -->
    <div class="filters" id="filters">
      <input type="text" id="searchInput" class="filter-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
      <select id="brandSelect" class="filter-select" aria-label="–ë—Ä–µ–Ω–¥">
        <option value="">–í—Å–µ –±—Ä–µ–Ω–¥—ã</option>
        <option value="nike">Nike</option>
        <option value="new-balance">New Balance</option>
        <option value="adidas">Adidas</option>
        <option value="coach">Coach</option>
        <option value="jordan">Jordan</option>
        <option value="converse">Converse</option>
      </select>
      <div class="filter-price">
        <input type="number" id="priceMin" class="filter-input" placeholder="–¶–µ–Ω–∞ –æ—Ç" min="0">
        <input type="number" id="priceMax" class="filter-input" placeholder="–¶–µ–Ω–∞ –¥–æ" min="0">
      </div>
      <label class="filter-check">
        <input type="checkbox" id="inStockOnly"> –í –Ω–∞–ª–∏—á–∏–∏
      </label>
      <button class="btn btn-glass" id="filtersReset">–°–±—Ä–æ—Å–∏—Ç—å</button>
    </div>
    <div class="products">
      <!-- –®–∞–±–ª–æ–Ω 1: –û–±—ã—á–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
      <div class="product" data-type="sneakers" data-brand="nike" data-price="14990" data-stock="true">
        <div class="product-media"><img src="image/force.png" alt="Nike"></div>
        <div class="row">
          <div class="price">14 990 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--stock"><span class="dot"></span>–í –Ω–∞–ª–∏—á–∏–∏</span></div>
        </div>
        <div class="pname">Nike Air Force 1 '07</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <!-- –®–∞–±–ª–æ–Ω 2: –•–∏—Ç –ø—Ä–æ–¥–∞–∂ -->
      <!-- <div class="product product--hit" data-type="sneakers" data-brand="new-balance" data-price="12500" data-stock="true">
        <div class="product-badge">–•–∏—Ç –ø—Ä–æ–¥–∞–∂</div>
        <div class="product-media"><img src="image/nb302.png" alt="NB"></div>
        <div class="row">
          <div class="price">12 500 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--stock"><span class="dot"></span>–í –Ω–∞–ª–∏—á–∏–∏</span></div>
        </div>
        <div class="pname">New Balance NB 302 Low Top</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div> -->

      <div class="product product--hit" data-type="accessories" data-brand="coach" data-price="10500" data-stock="true">
        <div class="product-badge">–•–∏—Ç –ø—Ä–æ–¥–∞–∂</div>
        <div class="product-media"><img src="image/coach.png" alt="NB"></div>
        <div class="row">
          <div class="price">10 500 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--stock"><span class="dot"></span>–í –Ω–∞–ª–∏—á–∏–∏</span></div>
        </div>
        <div class="pname">Coach Nolita</div>
        <div class="product-actions">
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <!-- –®–∞–±–ª–æ–Ω 3: –ü—Ä–µ–¥–∑–∞–∫–∞–∑ -->
      <!-- <div class="product" data-type="tshirts" data-brand="adidas" data-price="18900" data-stock="false">
        <div class="product-media"><img src="image/force.png" alt="Adidas"></div>
        <div class="row">
          <div class="price">18 900 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--preorder"><span class="dot"></span>–ü—Ä–µ–¥–∑–∞–∫–∞–∑</span></div>
        </div>
        <div class="pname">Adidas Ultraboost 22</div>
        <div class="product-actions">
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div> -->

      <div class="product" data-type="sneakers" data-brand="new-balance" data-price="9999" data-stock="false">
        <div class="product-media"><img src="image/2002r.png" alt="2002R"></div>
        <div class="row">
          <div class="price">9 999 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--preorder"><span class="dot"></span>–ü—Ä–µ–¥–∑–∞–∫–∞–∑</span></div>
        </div>
        <div class="pname">New Balance NB 2002R</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <!-- –®–∞–±–ª–æ–Ω 4: –°–∫–∏–¥–∫–∞ -->
      <div class="product product--sale" data-type="sneakers" data-brand="jordan" data-price="21000" data-stock="true">
        <div class="product-badge">-30%</div>
        <div class="product-media"><img src="image/nb302.png" alt="Jordan"></div>
        <div class="row">
          <div class="price">21 000 ‚ÇΩ <span class="price-old">30 000 ‚ÇΩ</span></div>
          <div class="meta"><span class="badge badge--stock"><span class="dot"></span>–í –Ω–∞–ª–∏—á–∏–∏</span></div>
        </div>
        <div class="pname">Air Jordan 1 Retro High</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <!-- –®–∞–±–ª–æ–Ω 5: –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–∞—Ä–∞ -->
      <div class="product" data-type="sneakers" data-brand="converse" data-price="8500" data-stock="true">
        <div class="product-media"><img src="image/force.png" alt="Converse"></div>
        <div class="row">
          <div class="price">8 500 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--last"><span class="dot"></span>–ü–æ—Å–ª–µ–¥–Ω—è—è –ø–∞—Ä–∞</span></div>
        </div>
        <div class="pname">Converse Chuck Taylor All Star</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>

      <!-- –®–∞–±–ª–æ–Ω 6: –ù–æ–≤–∏–Ω–∫–∞ -->
      <div class="product product--new" data-type="sneakers" data-brand="new-balance" data-price="45000" data-stock="false">
        <div class="product-badge">–ù–æ–≤–∏–Ω–∫–∞</div>
        <div class="product-media"><img src="image/nb302.png" alt="Yeezy"></div>
        <div class="row">
          <div class="price">45 000 ‚ÇΩ</div>
          <div class="meta"><span class="badge badge--eta"><span class="dot"></span>7 –¥–Ω–µ–π</span></div>
        </div>
        <div class="pname">Yeezy Boost 350 V2</div>
        <div class="product-actions">
          <select class="size-select" aria-label="–†–∞–∑–º–µ—Ä">
            <option value="">–†–∞–∑–º–µ—Ä</option>
            <option>36</option><option>37</option><option>38</option><option>39</option>
            <option>40</option><option>41</option><option>42</option><option>43</option>
          </select>
          <button class="btn btn-add add-to-cart">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>
    </div>

    <div class="catalog-cta">
      <a href="catalog.html" class="btn btn-glass">–í–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥</a>
    </div>

  </main>

  <!-- –û—Ç–∑—ã–≤—ã -->
  <section class="reviews" id="reviews">
    <h2>–û—Ç–∑—ã–≤—ã</h2>
    <div class="reviews-track" id="reviewsTrack">
      <div class="review">
        <div class="r-name">–ï–≥–æ—Ä</div>
        <div class="r-text">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –∫—Ä–æ—Å—Å—ã –æ—Ä–∏–≥–∏–Ω–∞–ª. –ë—É–¥—É –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å –µ—â—ë.</div>
        <div class="r-stars" data-stars="5"></div>
      </div>
      <div class="review">
        <div class="r-name">–ú–∞—Ä–∏–Ω–∞</div>
        <div class="r-text">–ö—Ä–∞—Å–∏–≤—ã–π —Å–∞–π—Ç, —É–¥–æ–±–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ä–∞–∑–º–µ—Ä. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–º–æ–≥–ª–∞ —Å –æ–±–º–µ–Ω–æ–º.</div>
        <div class="r-stars" data-stars="4"></div>
      </div>
      <div class="review">
        <div class="r-name">–ò–≥–æ—Ä—å</div>
        <div class="r-text">–¶–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–ª–∏—á–Ω—ã–µ, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –¥—Ä—É–∑—å—è–º.</div>
        <div class="r-stars" data-stars="5"></div>
      </div>
      <div class="review">
        <div class="r-name">–ú–∞—Ä–∞—Ç</div>
        <div class="r-text">–•–∏—Ç —Å–µ–∑–æ–Ω–∞ –ø–æ–ø–∞–ª –≤ —Ä–∞—Å–ø—Ä–æ–¥–∞–∂—É ‚Äî –æ—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω –ø–æ–∫—É–ø–∫–æ–π!</div>
        <div class="r-stars" data-stars="5"></div>
      </div>
    </div>
  </section>

  <a class="fab" href="https://t.me/behaiv0ur" target="_blank" rel="noopener" aria-label="Telegram">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M22 3L2 11l6.5 2.5L18.5 7 10.5 16.5V21l3.6-3.6L19 19l3-16z" fill="#0e141f"/>
    </svg>
  </a>

  <script>
    // reveal on load/scroll
    window.addEventListener('load', () => {
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); obs.unobserve(e.target);} });
      },{threshold:0.15});
      document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
    });
    // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: —Ñ–∏–ª—å—Ç—Ä
    (function(){
      const products = Array.from(document.querySelectorAll('.products .product'));
      document.querySelectorAll('.categories .cat').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const f = btn.getAttribute('data-filter');
          document.querySelectorAll('.categories .cat').forEach(c=>c.classList.remove('active'));
          btn.classList.add('active');
          products.forEach(p=>{
            const t = p.getAttribute('data-type');
            p.style.display = (!f || t===f) ? '' : 'none';
          });
        });
      });
    })();

    // –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
    (function(){
      const products = Array.from(document.querySelectorAll('.products .product'));
      const q = document.getElementById('searchInput');
      const brand = document.getElementById('brandSelect');
      const min = document.getElementById('priceMin');
      const max = document.getElementById('priceMax');
      const stock = document.getElementById('inStockOnly');
      const reset = document.getElementById('filtersReset');

      function apply(){
        const text = (q.value||'').trim().toLowerCase();
        const b = brand.value;
        const vmin = parseFloat(min.value);
        const vmax = parseFloat(max.value);
        const hasMin = !isNaN(vmin);
        const hasMax = !isNaN(vmax);
        products.forEach(card=>{
          const name = card.querySelector('.pname')?.textContent.toLowerCase()||'';
          const cb = card.getAttribute('data-brand')||'';
          const price = parseInt(card.getAttribute('data-price')||'0',10);
          const inStock = (card.getAttribute('data-stock')||'false') === 'true';
          let ok = true;
          if (text && !name.includes(text)) ok=false;
          if (b && cb!==b) ok=false;
          if (hasMin && price < vmin) ok=false;
          if (hasMax && price > vmax) ok=false;
          if (stock.checked && !inStock) ok=false;
          card.style.display = ok ? '' : 'none';
        });
      }
      [q,brand,min,max,stock].forEach(el=>el && el.addEventListener('input',apply));
      reset?.addEventListener('click',()=>{ q.value=''; brand.value=''; min.value=''; max.value=''; stock.checked=false; apply(); });
      apply();
    })();

    // –ë–µ—Å—à–æ–≤–Ω–∞—è –∞–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ (–º–∞—Ä–∫–∏–∑–∞)
    (function(){
      const track = document.getElementById('reviewsTrack');
      const container = document.getElementById('reviews');
      if (!track) return;
      // –ó–≤—ë–∑–¥—ã
      track.querySelectorAll('.r-stars').forEach(box=>{
        const n = Math.max(0, Math.min(5, parseInt(box.getAttribute('data-stars')||'0',10)));
        for (let i=1;i<=5;i++){
          const s = document.createElement('span');
          s.className = 'star'+(i<=n?'':' dim');
          box.appendChild(s);
        }
      });
      // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é –¥–ª–∏–Ω—É –ª–µ–Ω—Ç—ã
      const base = Array.from(track.children);
      function ensureLength(){
        const needed = (container?.offsetWidth || track.parentElement.offsetWidth) * 2;
        while (track.scrollWidth < needed){
          base.forEach(el=> track.appendChild(el.cloneNode(true)));
        }
      }
      ensureLength();
      let x = 0; const speed = 0.6; const gap = 16;
      function step(){
        x -= speed;
        // –∫–æ–≥–¥–∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—à—ë–ª –≤–ª–µ–≤–æ ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏–º –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏—é
        let first = track.children[0];
        if (first){
          const rectFirst = first.getBoundingClientRect();
          const rectContainer = (container||track.parentElement).getBoundingClientRect();
          if (rectFirst.right < rectContainer.left){
            const w = rectFirst.width + gap;
            track.appendChild(first);
            x += w; // —Å–¥–≤–∏–≥–∞–µ–º —Ç—Ä–µ–∫ –Ω–∞ —à–∏—Ä–∏–Ω—É —É—à–µ–¥—à–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
          }
        }
        track.style.transform = `translateX(${x}px)`;
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
      // –Ω–∞ —Ä–µ—Å–∞–π–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –¥–ª–∏–Ω—É
      window.addEventListener('resize', ensureLength);
    })();

    // –ú–∏–Ω–∏-–∫–æ—Ä–∑–∏–Ω–∞: –ª–æ–≥–∏–∫–∞
    (function(){
      const cart = [];
      const cartButton = document.getElementById('cartButton');
      const miniCart = document.getElementById('miniCart');
      const miniClose = document.getElementById('miniCartClose');
      const miniList = document.getElementById('miniCartList');
      const miniTotal = document.getElementById('miniCartTotal');
      const cartCount = document.getElementById('cartCount');

      function parsePrice(text){
        return parseInt((text||'').replace(/[^0-9]/g,'')||'0',10);
      }
      function formatPrice(n){
        return n.toLocaleString('ru-RU')+" ‚ÇΩ";
      }
      function openCart(){ miniCart.classList.add('show'); }
      function closeCart(){ miniCart.classList.remove('show'); }
      function toggleCart(){ miniCart.classList.toggle('show'); }

      function render(){
        miniList.innerHTML = '';
        let total = 0;
        cart.forEach((item,idx)=>{
          total += item.price;
          const el = document.createElement('div');
          el.className = 'mini-cart-item';
          el.innerHTML = `
            <img src="${item.img}" alt="${item.name}">
            <div class="mci-info">
              <div class="mci-name">${item.name}</div>
              <div class="mci-meta">${item.color?item.color+' ¬∑ ':''}${item.size?('–†–∞–∑–º–µ—Ä '+item.size):''}</div>
              <div class="mci-price">${formatPrice(item.price)} ${item.old?('<span class="mci-old">'+formatPrice(item.old)+'</span>'):''}</div>
            </div>
            <button class="mci-remove" data-idx="${idx}">√ó</button>
          `;
          miniList.appendChild(el);
        });
        miniTotal.textContent = formatPrice(total);
        cartCount.textContent = cart.length;
        miniList.querySelectorAll('.mci-remove').forEach(btn=>{
          btn.addEventListener('click',()=>{
            const i = parseInt(btn.getAttribute('data-idx'),10);
            cart.splice(i,1); render();
          });
        });
      }
      document.querySelectorAll('.add-to-cart').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const card = btn.closest('.product');
          const name = card.querySelector('.pname')?.textContent.trim();
          const img = card.querySelector('.product-media img')?.getAttribute('src');
          const priceText = card.querySelector('.price')?.textContent;
          const oldEl = card.querySelector('.price .price-old');
          const old = oldEl ? parsePrice(oldEl.textContent) : 0;
          const price = parsePrice(priceText);
          const sel = card.querySelector('.size-select');
          const size = sel ? sel.value : '';
          if (sel && !size){ sel.classList.add('invalid'); setTimeout(()=>sel.classList.remove('invalid'),600); return; }
          cart.push({name,img,price,old,size});
          render();
          openCart();
        });
      });
      cartButton?.addEventListener('click',toggleCart);
      miniClose?.addEventListener('click',closeCart);
      document.addEventListener('keydown',(e)=>{ if (e.key==='Escape') closeCart(); });
      document.addEventListener('click',(e)=>{
        if (!miniCart.contains(e.target) && !cartButton.contains(e.target)){
          // –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ: –∑–∞–∫—Ä—ã–≤–∞—Ç—å
          if (miniCart.classList.contains('show')) closeCart();
        }
      });
    })();
  </script>
</body>
</html>
